"use strict";function showLoader(){myVar=setTimeout(showPage,2e3)}function showPage(){document.getElementById("loader").style.display="none",document.getElementById("application").style.display="block"}function getQueryURL(t){return'http://query.yahooapis.com/v1/public/yql?q=select * from weather.forecast where woeid in (select woeid from geo.places(1) where text="'+t+'") and u=%22c%22&format=json'}function submitHandler(t){t.preventDefault(),qs("header h1").classList.toggle("shrink");var e=qs("#form-input");displaySearchedData(e.value),e.value=""}function displaySearchedData(t){var e=getQueryURL(t);axios(e).then(function(t){return t.data.query.results.channel}).then(function(t){console.log(t),displayWeatherData(t)}).catch(function(t){return alert(t)})}function convertDayTextToPortguese(t){switch(t){case"Sun":return"Domingo";case"Mon":return"Segunda";case"Tue":return"Terça";case"Wed":return"Quarta";case"Thu":return"Quinta";case"Fri":return"Sexta";case"Sat":return"Sabádo";default:return"Dia não identificado"}}function displayWeatherData(t){var e=t.location,n=t.item,a=t.units,o=t.wind,s=t.atmosphere;if(0===qsAll(".search__output").length){var r=document.createElement("div");r.setAttribute("class","search__output"),r.innerHTML='\n      <div class="search__output__main">\n        <h6 class="output__location" id="output-location">'+e.city+", "+e.region+", "+e.country+'</h6>\n        <img class="output__close" src="./images/close.png" alt="Close button" width="20" id="close-btn"/>\n        \n        <h1 class="output__temperature" id="output-temperature">'+n.condition.temp+"°"+a.temperature+" "+n.condition.text+'</h1>\n\n        <div class="output__temperature-sub">\n          <img src="./images/down-arrow.png" width="16" alt="Down Arrow"><span id="output-min">'+n.forecast[0].low+'°</span>\n          <img src="./images/up-arrow.png" width="16" alt="Up Arrow"><span id="output-max">'+n.forecast[0].high+'°</span>\n          <span style="padding-left: .9rem;"><span class="fw-300">Sensação</span> 19°C</span>\n        </div>\n\n        <div class="output__wind-humidity">\n          <span>Vento <span class="fw-800" id="output-wind">'+o.speed+a.speed+'</span></span>\n          <span style="padding-left: .9rem;">Humidade <span class="fw-800" id="output-humidity">'+s.humidity+'%</span></span>\n        </div>\n\n      </div> \n\n      <hr class="hr__custom--small-orange">\n\n      <div class="search__output__footer">\n        <ul class="clearfix" id="output-forecasts">\n          '+getForecastList(n.forecast)+"\n        </ul>\n\n      </div>\n    ";var i=qs("#form");qs("#search").insertBefore(r,i),qs("#close-btn").addEventListener("click",function(){qs(".search__output").remove()})}else qs("#output-location").innerHTML=e.city+", "+e.region+", "+e.country,qs("#output-temperature").innerHTML=n.condition.temp+"°"+a.temperature+" "+n.condition.text,qs("#output-min").innerHTML=n.forecast[0].low+"°",qs("#output-max").innerHTML=n.forecast[0].high+"°",qs("#output-wind").innerHTML=""+o.speed+a.speed,qs("#output-humidity").innerHTML=s.humidity+"%°",qs("#output-forecasts").innerHTML=""+getForecastList(n.forecast)}function getForecastList(t){return t.slice(1,6).map(function(t){return'\n      <li>\n        <span class="day">'+convertDayTextToPortguese(t.day)+'</span> <span class="temperature">'+t.low+"° "+t.high+"°</span>\n      </li>\n    "}).join("")}function display(t){var e=13===qsAll(".table__content").length,n=t.item.forecast[0].low,a=t.item.forecast[0].high,o=t.location.city,s=document.createElement("tr");if(e){var r=document.createElement("tr");r.setAttribute("class","table__header show-in-desktop"),r.innerHTML="\n      <th>Min</th>\n      <th>Máx</th>\n      <th></th>\n    ",qs("#capitals-table").appendChild(r)}s.setAttribute("class","table__content"),s.innerHTML="\n    <td>"+n+"°</td>\n    <td>"+a+"°</td>\n    <td>"+o+"</td>\n  ",qs("#capitals-table").appendChild(s)}var qs=function(t){return document.querySelector(t)},qsAll=function(t){return document.querySelectorAll(t)},myVar=void 0;!function(){["São Paulo","Rio de Janeiro","Salvador","Fortaleza","Belo Horizonte","Curitiba","Manaus","Recife","Porto Alegre","Belém","Goiânia","São Luís","Maceió","Teresina","Natal","Campo Grande","João Pessoa","Aracaju","Florianópolis","Porto Velho","Macapá","Vitória","Rio Branco","Boa Vista","Palmas TO"].map(function(t,e){axios(getQueryURL(t)).then(function(t){return t.data.query.results.channel}).then(function(t){display(t)})})}();