"use strict";function showLoader(){myVar=setTimeout(showPage,2e3)}function showPage(){document.getElementById("loader").style.display="none",document.getElementById("application").style.display="block"}function submitHandler(e){e.preventDefault();var t=document.querySelector("#form-input").value;displaySearchedData(t),t=""}function getQueryURL(e){return'http://query.yahooapis.com/v1/public/yql?q=select * from weather.forecast where woeid in (select woeid from geo.places(1) where text="'+e+'") and u=%22c%22&format=json'}function displaySearchedData(e){var t=getQueryURL(e);axios(t).then(function(e){return e.data.query.results.channel}).then(function(e){console.log(e),displayWeatherData(e)}).catch(function(e){return alert("Cidade não encontrada, tente novamente")})}function convertDayTextToPortguese(e){switch(e){case"Sun":return"Domingo";case"Mon":return"Segunda";case"Tue":return"Terça";case"Wed":return"Quarta";case"Thu":return"Quinta";case"Fri":return"Sexta";case"Sat":return"Sabádo";default:return"Dia não identificado"}}function displayWeatherData(e){var t=e.location,n=e.item,a=e.units,o=e.wind,r=e.atmosphere,s=document.createElement("div");s.setAttribute("class","search__output"),s.innerHTML='\n    <div class="search__output__main">\n      <h6 class="output__location">'+t.city+", "+t.region+", "+t.country+'</h6>\n      <img class="output__close" src="./images/close.png" alt="Close button" width="20" id="close-btn"/>\n      \n      <h1 class="output__temperature">'+n.condition.temp+"°"+a.temperature+" "+n.condition.text+'</h1>\n\n      <div class="output__temperature-sub">\n        <span><img src="./images/down-arrow.png" width="16" alt="Down Arrow">'+n.forecast[0].low+'°</span>\n        <span><img src="./images/up-arrow.png" width="16" alt="Down Arrow">'+n.forecast[0].high+'°</span>\n        <span style="padding-left: .9rem;"><span class="fw-300">Sensação</span> 19°C</span>\n      </div>\n\n      <div class="output__wind-humidity">\n        <span>Vento <span class="fw-800">'+o.speed+a.speed+'</span></span>\n        <span style="padding-left: .9rem;">Humidade <span class="fw-800">'+r.humidity+'%</span></span>\n      </div>\n\n    </div> \n\n    <hr class="hr__custom--small-orange">\n\n    <div class="search__output__footer">\n      <ul class="clearfix">\n        '+getForecastList(n.forecast)+"\n      </ul>\n\n    </div>\n  ";var i=document.querySelector("#form");document.querySelector("#search").insertBefore(s,i),document.querySelector("#close-btn").addEventListener("click",function(){document.querySelector(".search__output").remove()})}function getForecastList(e){return e.slice(1,6).map(function(e){return'\n      <li>\n        <span class="day">'+convertDayTextToPortguese(e.day)+'</span> <span class="temperature">'+e.low+"° "+e.high+"</span>\n      </li>\n    "}).join("")}function display(e){var t=13===document.querySelectorAll(".table__content").length,n=e.item.forecast[0].low,a=e.item.forecast[0].high,o=e.location.city,r=document.createElement("tr");if(t){var s=document.createElement("tr");s.setAttribute("class","table__header show-in-desktop"),s.innerHTML="\n      <th>Min</th>\n      <th>Máx</th>\n      <th></th>\n    ",document.querySelector("#capitals-table").appendChild(s)}r.setAttribute("class","table__content"),r.innerHTML="\n    <td>"+n+"°</td>\n    <td>"+a+"°</td>\n    <td>"+o+"</td>\n  ",document.querySelector("#capitals-table").appendChild(r)}var myVar=void 0;!function(){["São Paulo","Rio de Janeiro","Salvador","Fortaleza","Belo Horizonte","Curitiba","Manaus","Recife","Porto Alegre","Belém","Goiânia","São Luís","Maceió","Teresina","Natal","Campo Grande","João Pessoa","Aracaju","Florianópolis","Porto Velho","Macapá","Vitória","Rio Branco","Boa Vista","Palmas TO"].map(function(e,t){axios(getQueryURL(e)).then(function(e){return e.data.query.results.channel}).then(function(e){display(e)})})}();